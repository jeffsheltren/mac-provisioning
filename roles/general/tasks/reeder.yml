---
###############################################################################
# Reeder                                                                      #
###############################################################################

- set_fact: 'reeder_plist=~/Library/Containers/com.reederapp.rkit2.mac/Data/Library/Preferences/com.reederapp.rkit2.mac.plist'

- name: Open browser links in background
  osx_defaults:
    domain: com.reederapp.rkit2.mac
    key: OpenLinksInBackground
    type: int
    value: 1
    state: present

- name: Don't ask before marking all as read
  osx_defaults:
    domain: com.reederapp.rkit2.mac
    key: ConfirmMarkAllAsRead
    type: int
    value: 0
    state: present

- name: Enable Show in toolbar for Browser
  include_role:
    name: helpers
    tasks_from: plistbuddy
  with_items:
    - name: ":ShareRKServiceSafari:show-in-toolbar"
      type: int
      value: 1
      plist: "{{ reeder_plist }}"
